# 1.使用锁
redis 乐观锁 
redis 分布式锁 redssion

使用锁将减库存、插入用户订单等操作包裹在一起


# redis 队列
1.根据库存数k 先创建list（容量为k），然后往list插入数字，初始化list
如（11，12，13...）直到库存容量

然后一请求进入就先
* 弹出一个数字，如果为空，表示库存已售完，如果不为空，即下一步插入用户订单
* 用户订单

2.根据库存数k 先创建list（容量为k），不初始化list

然后一请求进入就先
* 插入list，不能插入表示容量已满，表示库存已售完，能插入表示有库存，进行下一步
* 用户订单




